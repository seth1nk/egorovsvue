(function(){"use strict";var e={4474:function(e,t,a){var s=a(5130),o=a(6768),l=a(4232);const n={class:"wrapper"},r={class:"right-panel"},i={class:"logo-container"},c={class:"nav-buttons"},d={class:"button-list"},u={key:0},g={key:1},h={key:2},k={key:3},p={key:4,class:"welcome-message"},m={key:5},v={key:6};function b(e,t,a,s,b,f){const L=(0,o.g2)("router-view"),y=(0,o.g2)("TheWelcome"),w=(0,o.g2)("router-link");return(0,o.uX)(),(0,o.CE)(o.FK,null,[(0,o.Lk)("header",null,[(0,o.Lk)("div",n,[(0,o.bF)(L)]),t[1]||(t[1]=(0,o.Lk)("link",{href:"https://fonts.googleapis.com/css2?family=Roboto+Mono:wght@400;600;700&display=swap",rel:"stylesheet"},null,-1))]),(0,o.Lk)("main",null,[(0,o.bF)(y)]),(0,o.Lk)("aside",r,[(0,o.Lk)("div",i,[(0,o.bF)(w,{to:"/"},{default:(0,o.k6)((()=>t[2]||(t[2]=[(0,o.Lk)("img",{src:"/images/logo.png",alt:"Logo",class:"logo"},null,-1)]))),_:1})]),(0,o.Lk)("nav",c,[(0,o.Lk)("ul",d,[(0,o.Lk)("li",null,[(0,o.bF)(w,{to:"/",class:"button"},{default:(0,o.k6)((()=>t[3]||(t[3]=[(0,o.eW)("Главная")]))),_:1})]),(0,o.Lk)("li",null,[(0,o.bF)(w,{to:"/about",class:"button"},{default:(0,o.k6)((()=>t[4]||(t[4]=[(0,o.eW)("О нас")]))),_:1})]),(0,o.Lk)("li",null,[(0,o.bF)(w,{to:"/contact",class:"button"},{default:(0,o.k6)((()=>t[5]||(t[5]=[(0,o.eW)("Контакты")]))),_:1})]),b.isAuthenticated?((0,o.uX)(),(0,o.CE)("li",u,[(0,o.bF)(w,{to:"/rooms",class:"button"},{default:(0,o.k6)((()=>t[6]||(t[6]=[(0,o.eW)("Комнаты")]))),_:1})])):(0,o.Q3)("",!0),b.isAuthenticated?((0,o.uX)(),(0,o.CE)("li",g,[(0,o.bF)(w,{to:"/bookings",class:"button"},{default:(0,o.k6)((()=>t[7]||(t[7]=[(0,o.eW)("Бронирования")]))),_:1})])):(0,o.Q3)("",!0),b.isAuthenticated?(0,o.Q3)("",!0):((0,o.uX)(),(0,o.CE)("li",h,[(0,o.bF)(w,{to:"/login",class:"button"},{default:(0,o.k6)((()=>t[8]||(t[8]=[(0,o.eW)("Войти")]))),_:1})])),b.isAuthenticated?(0,o.Q3)("",!0):((0,o.uX)(),(0,o.CE)("li",k,[(0,o.bF)(w,{to:"/register",class:"button"},{default:(0,o.k6)((()=>t[9]||(t[9]=[(0,o.eW)("Зарегистрироваться")]))),_:1})])),b.isAuthenticated?((0,o.uX)(),(0,o.CE)("li",p,[(0,o.Lk)("span",null,"Добро пожаловать, "+(0,l.v_)(b.username),1)])):(0,o.Q3)("",!0),b.isAuthenticated?((0,o.uX)(),(0,o.CE)("li",m,[(0,o.Lk)("button",{onClick:t[0]||(t[0]=(...e)=>f.logout&&f.logout(...e)),class:"button"},"Выйти")])):(0,o.Q3)("",!0),b.isAuthenticated&&"admin"===b.role?((0,o.uX)(),(0,o.CE)("li",v,t[10]||(t[10]=[(0,o.Lk)("a",{href:"http://localhost:3000",class:"admin-button"},"Админ-панель",-1)]))):(0,o.Q3)("",!0)])])])],64)}a(4114);var f={data(){return{isAuthenticated:!1,username:"",role:""}},created(){this.checkAuth()},methods:{async checkAuth(){try{const e=await fetch("http://localhost:3000/auth/check",{method:"GET",credentials:"include"}),t=await e.json();e.ok?(this.isAuthenticated=!0,this.username=t.username||"Пользователь",this.role=t.role||""):(console.error("Токен недействителен:",t.message),this.isAuthenticated=!1,this.username="",this.role="")}catch(e){console.error("Ошибка проверки авторизации:",e),this.isAuthenticated=!1,this.username="",this.role=""}},async logout(){try{const e=await fetch("http://localhost:3000/auth/logout",{method:"GET",credentials:"include"});e.ok?(this.isAuthenticated=!1,this.username="",this.role="",this.$router.push("/")):console.error("Сервер вернул ошибку при выходе")}catch(e){console.error("Ошибка выхода:",e),this.isAuthenticated=!1,this.username="",this.role="",this.$router.push("/")}}}},L=a(1241);const y=(0,L.A)(f,[["render",b],["__scopeId","data-v-f6902272"]]);var w=y,x=a(1387);const C={class:"container"},E={class:"flex flex-col sm:flex-row gap-6 mb-10 justify-center"},_=["src","alt"],P={class:"card-body"},A={class:"text-xl font-bold text-center mb-3"},X={class:"card-text text-center"},I={class:"grid grid-cols-1 md:grid-cols-1 gap-6 mb-12"},$={class:"content-block card fade-in",style:{animationDelay:"0.2s"}},N={class:"text-lg space-y-4"},T={class:"text-gray-600"};function j(e,t,a,s,n,r){return(0,o.uX)(),(0,o.CE)("main",null,[(0,o.Lk)("div",C,[t[2]||(t[2]=(0,o.Lk)("h1",{class:"page-title"},"Добро пожаловать в нашу гостиницу",-1)),(0,o.Lk)("div",E,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(n.services,((e,t)=>((0,o.uX)(),(0,o.CE)("div",{class:"image-block-centered card fade-in",key:t,style:(0,l.Tr)({animationDelay:.2*t+"s"})},[(0,o.Lk)("img",{src:e.image,alt:e.name,class:"img-block h-48 w-full object-cover"},null,8,_),(0,o.Lk)("div",P,[(0,o.Lk)("h5",A,(0,l.v_)(e.name),1),(0,o.Lk)("p",X,(0,l.v_)(e.description),1)])],4)))),128))]),(0,o.Lk)("div",I,[(0,o.Lk)("div",$,[t[1]||(t[1]=(0,o.Lk)("h4",{class:"text-2xl font-bold mb-4 text-center"},"Почему мы?",-1)),(0,o.Lk)("ul",N,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(n.reasons,((e,a)=>((0,o.uX)(),(0,o.CE)("li",{class:"flex items-center bg-white bg-opacity-20 p-3 rounded-lg fade-in",key:a,style:(0,l.Tr)({animationDelay:.2*(a+1)+"s"})},[t[0]||(t[0]=(0,o.Lk)("span",{class:"text-green-500 mr-3 text-2xl"},"✅",-1)),(0,o.Lk)("span",T,(0,l.v_)(e),1)],4)))),128))])])])])])}a(8111),a(7588);var O={name:"HomePage",data(){return{services:[{name:"Бронирование номеров",description:"Удобное бронирование номеров под ваши даты и предпочтения.",image:"/images/1.jpg"},{name:"Обслуживание 24/7",description:"Круглосуточная поддержка гостей для комфортного пребывания.",image:"/images/2.jpg"},{name:"Дополнительные услуги",description:"Экскурсии, трансфер и другие услуги для вашего отдыха.",image:"/images/3.jpg"}],reasons:["Комфортабельные номера всех категорий","Высокий уровень сервиса и гостеприимства","Удобное расположение и круглосуточная поддержка"]}},mounted(){try{const e=new IntersectionObserver((t=>{t.forEach((t=>{t.isIntersecting&&(t.target.classList.add("visible"),e.unobserve(t.target))}))}),{threshold:.1});this.$el.querySelectorAll(".fade-in").forEach((t=>{e.observe(t)}))}catch(e){console.error("Error setting up IntersectionObserver:",e)}}};const W=(0,L.A)(O,[["render",j],["__scopeId","data-v-8032865e"]]);var F=W;const S={class:"container"},Q={class:"content-block fade-in",ref:"block1"},D={class:"content-block fade-in",ref:"block2"},M={class:"content-block fade-in",ref:"block3"},R={class:"content-block fade-in",ref:"block4"},U={class:"content-block fade-in",ref:"block5"};function q(e,t,a,s,l,n){return(0,o.uX)(),(0,o.CE)("main",null,[(0,o.Lk)("div",S,[t[5]||(t[5]=(0,o.Lk)("h1",{class:"page-title"},"О нашей гостинице",-1)),(0,o.Lk)("div",Q,t[0]||(t[0]=[(0,o.Fv)('<div class="flex flex-col md:flex-row items-center gap-6" data-v-40c09c27><div class="md:w-1/2 text-block" data-v-40c09c27><h2 class="text-2xl font-bold mb-4" data-v-40c09c27>Разнообразие номеров</h2><p class="fs-5" data-v-40c09c27> Мы предлагаем номера различных категорий: от уютных стандартных до роскошных люксов для любых предпочтений. </p></div><div class="md:w-1/2 image-block" data-v-40c09c27><img src="/images/11.jpeg" alt="Разнообразие номеров" class="img-block" data-v-40c09c27></div></div>',1)]),512),(0,o.Lk)("div",D,t[1]||(t[1]=[(0,o.Fv)('<div class="flex flex-col md:flex-row items-center gap-6" data-v-40c09c27><div class="md:w-1/2 image-block order-2 md:order-1" data-v-40c09c27><img src="/images/22.jpg" alt="Высокий уровень сервиса" class="img-block" data-v-40c09c27></div><div class="md:w-1/2 text-block order-1 md:order-2" data-v-40c09c27><h2 class="text-2xl font-bold mb-4" data-v-40c09c27>Высокий уровень сервиса</h2><p class="fs-5" data-v-40c09c27> Наши услуги включают круглосуточное обслуживание и гарантированное качество пребывания. </p></div></div>',1)]),512),(0,o.Lk)("div",M,t[2]||(t[2]=[(0,o.Fv)('<div class="flex flex-col md:flex-row items-center gap-6" data-v-40c09c27><div class="md:w-1/2 text-block" data-v-40c09c27><h2 class="text-2xl font-bold mb-4" data-v-40c09c27>Индивидуальный подход</h2><p class="fs-5" data-v-40c09c27> Наши сотрудники помогут выбрать номер и организуют отдых, учитывая ваши пожелания. </p></div><div class="md:w-1/2 image-block" data-v-40c09c27><img src="/images/33.jpg" alt="Индивидуальный подход" class="img-block" data-v-40c09c27></div></div>',1)]),512),(0,o.Lk)("div",R,t[3]||(t[3]=[(0,o.Fv)('<div class="flex flex-col md:flex-row items-center gap-6" data-v-40c09c27><div class="md:w-1/2 image-block order-2 md:order-1" data-v-40c09c27><img src="/images/44.png" alt="Удобное расположение" class="img-block" data-v-40c09c27></div><div class="md:w-1/2 text-block order-1 md:order-2" data-v-40c09c27><h2 class="text-2xl font-bold mb-4" data-v-40c09c27>Удобное расположение</h2><p class="fs-5" data-v-40c09c27> Гостиница расположена в центре города, рядом с основными достопримечательностями. </p></div></div>',1)]),512),(0,o.Lk)("div",U,t[4]||(t[4]=[(0,o.Fv)('<div class="flex flex-col md:flex-row items-center gap-6" data-v-40c09c27><div class="md:w-1/2 text-block" data-v-40c09c27><h2 class="text-2xl font-bold mb-4" data-v-40c09c27>Поддержка гостей</h2><p class="fs-5" data-v-40c09c27> Мы предоставляем круглосуточную поддержку для комфортного пребывания. </p></div><div class="md:w-1/2 image-block" data-v-40c09c27><img src="/images/55.jpg" alt="Поддержка гостей" class="img-block" data-v-40c09c27></div></div>',1)]),512)])])}var B={name:"AboutPage",mounted(){try{const e=new IntersectionObserver((t=>{t.forEach((t=>{t.isIntersecting&&(t.target.classList.add("visible"),e.unobserve(t.target))}))}),{threshold:.1});this.$el.querySelectorAll(".fade-in").forEach((t=>{e.observe(t)}))}catch(e){console.error("Error setting up IntersectionObserver:",e)}}};const G=(0,L.A)(B,[["render",q],["__scopeId","data-v-40c09c27"]]);var H=G;const J={class:"container"},V={class:"mb-12"},K={class:"employees-row"},z={class:"card"},Z=["src","alt"],Y={class:"card-body"},ee={class:"card-title"},te={class:"card-text"},ae={class:"card-text text-gray-600"};function se(e,t,a,s,n,r){return(0,o.uX)(),(0,o.CE)("main",null,[(0,o.Lk)("div",J,[t[1]||(t[1]=(0,o.Fv)('<h1 class="page-title" data-v-4712701a>Наша команда гостиницы</h1><div class="content-block fade-in mb-12" data-v-4712701a><div class="text-block" data-v-4712701a><h2 class="text-2xl font-bold text-center mb-4" data-v-4712701a>О нашей гостинице</h2><p class="fs-5 text-center" data-v-4712701a> Наша гостиница предлагает комфортабельные номера и первоклассный сервис. Мы обеспечим вам незабываемый отдых в центре города. </p></div></div>',2)),(0,o.Lk)("div",V,[t[0]||(t[0]=(0,o.Lk)("h2",{class:"text-2xl font-bold text-center mb-6"},"Наша команда",-1)),(0,o.Lk)("div",K,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(n.employees,((e,t)=>((0,o.uX)(),(0,o.CE)("div",{class:"employee-card photo-card fade-in",key:t,style:(0,l.Tr)({animationDelay:.2*t+"s"})},[(0,o.Lk)("div",z,[(0,o.Lk)("img",{src:e.image,alt:e.name,class:"card-img-top"},null,8,Z),(0,o.Lk)("div",Y,[(0,o.Lk)("h3",ee,(0,l.v_)(e.name),1),(0,o.Lk)("p",te,(0,l.v_)(e.role),1),(0,o.Lk)("p",ae,"Стаж: "+(0,l.v_)(e.experience),1)])])],4)))),128))])]),t[2]||(t[2]=(0,o.Fv)('<div class="content-block fade-in" data-v-4712701a><div class="text-block" data-v-4712701a><h2 class="text-2xl font-bold text-center mb-6" data-v-4712701a>Наши услуги</h2></div><div class="grid grid-cols-1 md:grid-cols-3 gap-6" data-v-4712701a><div class="text-center fade-in" style="animation-delay:0.2s;" data-v-4712701a><h3 class="text-xl font-bold mb-2" data-v-4712701a>+ Бронирование номеров</h3><p class="text-gray-600" data-v-4712701a>Удобное бронирование номеров под ваши даты и предпочтения.</p></div><div class="text-center fade-in" style="animation-delay:0.4s;" data-v-4712701a><h3 class="text-xl font-bold mb-2" data-v-4712701a>+ Обслуживание 24/7</h3><p class="text-gray-600" data-v-4712701a>Круглосуточное обслуживание и помощь гостям.</p></div><div class="text-center fade-in" style="animation-delay:0.6s;" data-v-4712701a><h3 class="text-xl font-bold mb-2" data-v-4712701a>+ Дополнительные услуги</h3><p class="text-gray-600" data-v-4712701a>Экскурсии, трансфер и другие услуги для вашего комфорта.</p></div></div></div>',1))])])}var oe={name:"ContactPage",data(){return{employees:[{name:"Алексей Ковалёв",role:"Администратор гостиницы",experience:"7 лет",image:"/images/a3.png"},{name:"Николай Смирнов",role:"Консультант по бронированию",experience:"5 лет",image:"/images/a4.png"},{name:"Дарья Попова",role:"Менеджер по обслуживанию гостей",experience:"9 лет",image:"/images/a5.png"},{name:"Анастасия Лебедева",role:"Специалист по сервису",experience:"4 года",image:"/images/a1.jpg"},{name:"Мария Зайцева",role:"Консультант по экскурсиям",experience:"6 лет",image:"/images/a2.jpg"},{name:"Сергей Иванов",role:"Менеджер по трансферу",experience:"3 года",image:"/images/a6.png"}]}},mounted(){try{const e=new IntersectionObserver((t=>{t.forEach((t=>{t.isIntersecting&&(t.target.classList.add("visible"),e.unobserve(t.target))}))}),{threshold:.1});this.$el.querySelectorAll(".fade-in").forEach((t=>{e.observe(t)}))}catch(e){console.error("Error setting up IntersectionObserver:",e)}}};const le=(0,L.A)(oe,[["render",se],["__scopeId","data-v-4712701a"]]);var ne=le;const re={class:"app-container"},ie={class:"table-container"},ce={class:"styled-table rooms-table"},de=["src"],ue={key:1},ge={class:"action-buttons"},he={key:0,class:"no-data"},ke={key:1,class:"pagination"},pe=["disabled"],me=["disabled"];function ve(e,t,a,s,n,r){const i=(0,o.g2)("router-link");return(0,o.uX)(),(0,o.CE)("div",null,[t[5]||(t[5]=(0,o.Lk)("link",{rel:"stylesheet",href:"https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css",integrity:"sha512-DTOQO9RWCH3ppGqcWaEA1BIZOC6xxalwEsw9c2QQeAIftl+Vegovlnee1c9QX4TctnWMn13TZye+giMm8e2LwA==",crossorigin:"anonymous",referrerpolicy:"no-referrer"},null,-1)),t[6]||(t[6]=(0,o.Lk)("link",{href:"https://fonts.googleapis.com/css2?family=Roboto+Mono:wght@400;600;700&display=swap",rel:"stylesheet"},null,-1)),(0,o.Lk)("div",re,[t[4]||(t[4]=(0,o.Lk)("h1",{class:"page-title"},"Список номеров",-1)),(0,o.Lk)("div",ie,[(0,o.Lk)("table",ce,[t[3]||(t[3]=(0,o.Lk)("thead",null,[(0,o.Lk)("tr",null,[(0,o.Lk)("th",null,"ID"),(0,o.Lk)("th",null,"Номер комнаты"),(0,o.Lk)("th",null,"Тип номера"),(0,o.Lk)("th",null,"Вместимость"),(0,o.Lk)("th",null,"Цена за ночь"),(0,o.Lk)("th",null,"Доступен"),(0,o.Lk)("th",null,"Описание"),(0,o.Lk)("th",null,"Фото"),(0,o.Lk)("th",null,"Этаж"),(0,o.Lk)("th",null,"Действия")])],-1)),(0,o.Lk)("tbody",null,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(n.rooms,((e,a)=>((0,o.uX)(),(0,o.CE)("tr",{key:e.id},[(0,o.Lk)("td",null,(0,l.v_)((n.currentPage-1)*n.pageSize+a+1),1),(0,o.Lk)("td",null,(0,l.v_)(e.roomNumber||"N/A"),1),(0,o.Lk)("td",null,(0,l.v_)(e.roomType||"N/A"),1),(0,o.Lk)("td",null,(0,l.v_)(e.capacity||"N/A"),1),(0,o.Lk)("td",null,(0,l.v_)(e.pricePerNight||"N/A"),1),(0,o.Lk)("td",null,[(0,o.Lk)("span",{class:(0,l.C4)(["status",r.getStatusClass(e.isAvailable)])},(0,l.v_)(e.isAvailable?"Доступен":"Недоступен"),3)]),(0,o.Lk)("td",null,(0,l.v_)(e.description||"N/A"),1),(0,o.Lk)("td",null,[e.photoPath?((0,o.uX)(),(0,o.CE)("img",{key:0,src:`${n.backendUrl}${e.photoPath}`,alt:"Room Photo",class:"product-image"},null,8,de)):((0,o.uX)(),(0,o.CE)("span",ue,"N/A"))]),(0,o.Lk)("td",null,(0,l.v_)(e.floor||"N/A"),1),(0,o.Lk)("td",null,[(0,o.Lk)("div",ge,[(0,o.bF)(i,{to:`/view-rooms/${e.id}`,class:"action-btn view-icon"},{default:(0,o.k6)((()=>t[2]||(t[2]=[(0,o.Lk)("i",{class:"fas fa-eye"},null,-1)]))),_:2},1032,["to"])])])])))),128))])]),n.rooms.length?(0,o.Q3)("",!0):((0,o.uX)(),(0,o.CE)("p",he,"Нет номеров")),n.totalPages>1?((0,o.uX)(),(0,o.CE)("div",ke,[(0,o.Lk)("button",{onClick:t[0]||(t[0]=(...e)=>r.prevPage&&r.prevPage(...e)),disabled:1===n.currentPage},"← Предыдущая",8,pe),(0,o.Lk)("span",null,"Страница "+(0,l.v_)(n.currentPage)+" из "+(0,l.v_)(n.totalPages),1),(0,o.Lk)("button",{onClick:t[1]||(t[1]=(...e)=>r.nextPage&&r.nextPage(...e)),disabled:n.currentPage===n.totalPages},"Следующая →",8,me)])):(0,o.Q3)("",!0)])])])}var be={data(){return{rooms:[],currentPage:1,totalPages:0,pageSize:10,backendUrl:"http://localhost:3000"}},async created(){await this.fetchRooms()},methods:{async fetchRooms(){try{const e=await fetch(`${this.backendUrl}/api/rooms?page=${this.currentPage}`,{method:"GET",credentials:"include"});if(!e.ok){if(401===e.status)return void this.$router.push("/login");throw new Error(`HTTP error! Status: ${e.status}`)}const t=await e.json();this.rooms=t.rooms||[],this.totalPages=t.totalPages||0,this.currentPage=t.currentPage||1}catch(e){console.error("Ошибка при получении номеров:",e),this.rooms=[],this.totalPages=0}},async prevPage(){this.currentPage>1&&(this.currentPage--,await this.fetchRooms())},async nextPage(){this.currentPage<this.totalPages&&(this.currentPage++,await this.fetchRooms())},getStatusClass(e){return e?"available":"unavailable"}}};const fe=(0,L.A)(be,[["render",ve],["__scopeId","data-v-e5b57236"]]);var Le=fe;const ye={class:"app-container"},we={class:"table-container"},xe={class:"styled-table bookings-table"},Ce=["src"],Ee={key:1},_e={class:"action-buttons"},Pe={key:0,class:"no-data"},Ae={key:1,class:"pagination"},Xe=["disabled"],Ie=["disabled"];function $e(e,t,a,s,n,r){const i=(0,o.g2)("router-link");return(0,o.uX)(),(0,o.CE)("div",null,[t[5]||(t[5]=(0,o.Lk)("link",{rel:"stylesheet",href:"https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css",integrity:"sha512-DTOQO9RWCH3ppGqcWaEA1BIZOC6xxalwEsw9c2QQeAIftl+Vegovlnee1c9QX4TctnWMn13TZye+giMm8e2LwA==",crossorigin:"anonymous",referrerpolicy:"no-referrer"},null,-1)),t[6]||(t[6]=(0,o.Lk)("link",{href:"https://fonts.googleapis.com/css2?family=Roboto+Mono:wght@400;600;700&display=swap",rel:"stylesheet"},null,-1)),(0,o.Lk)("div",ye,[t[4]||(t[4]=(0,o.Lk)("h1",{class:"page-title"},"Список бронирований",-1)),(0,o.Lk)("div",we,[(0,o.Lk)("table",xe,[t[3]||(t[3]=(0,o.Lk)("thead",null,[(0,o.Lk)("tr",null,[(0,o.Lk)("th",null,"ID"),(0,o.Lk)("th",null,"ID номера"),(0,o.Lk)("th",null,"Имя гостя"),(0,o.Lk)("th",null,"Дата заезда"),(0,o.Lk)("th",null,"Дата выезда"),(0,o.Lk)("th",null,"Общая стоимость"),(0,o.Lk)("th",null,"Подтверждено"),(0,o.Lk)("th",null,"Контактный телефон"),(0,o.Lk)("th",null,"Фото"),(0,o.Lk)("th",null,"Действия")])],-1)),(0,o.Lk)("tbody",null,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(n.bookings,((e,a)=>((0,o.uX)(),(0,o.CE)("tr",{key:e.id},[(0,o.Lk)("td",null,(0,l.v_)((n.currentPage-1)*n.pageSize+a+1),1),(0,o.Lk)("td",null,(0,l.v_)(e.roomId||"N/A"),1),(0,o.Lk)("td",null,(0,l.v_)(e.guestName||"N/A"),1),(0,o.Lk)("td",null,(0,l.v_)(e.checkInDate||"N/A"),1),(0,o.Lk)("td",null,(0,l.v_)(e.checkOutDate||"N/A"),1),(0,o.Lk)("td",null,(0,l.v_)(e.totalPrice||"N/A"),1),(0,o.Lk)("td",null,[(0,o.Lk)("span",{class:(0,l.C4)(["status",r.getStatusClass(e.isConfirmed)])},(0,l.v_)(e.isConfirmed?"Подтверждено":"Не подтверждено"),3)]),(0,o.Lk)("td",null,(0,l.v_)(e.guestPhone||"N/A"),1),(0,o.Lk)("td",null,[e.photo?((0,o.uX)(),(0,o.CE)("img",{key:0,src:`${n.backendUrl}${e.photo}`,alt:"Booking Photo",class:"product-image"},null,8,Ce)):((0,o.uX)(),(0,o.CE)("span",Ee,"N/A"))]),(0,o.Lk)("td",null,[(0,o.Lk)("div",_e,[(0,o.bF)(i,{to:`/view-bookings/${e.id}`,class:"action-btn view-icon"},{default:(0,o.k6)((()=>t[2]||(t[2]=[(0,o.Lk)("i",{class:"fas fa-eye"},null,-1)]))),_:2},1032,["to"])])])])))),128))])]),n.bookings.length?(0,o.Q3)("",!0):((0,o.uX)(),(0,o.CE)("p",Pe,"Нет бронирований")),n.totalPages>1?((0,o.uX)(),(0,o.CE)("div",Ae,[(0,o.Lk)("button",{onClick:t[0]||(t[0]=(...e)=>r.prevPage&&r.prevPage(...e)),disabled:1===n.currentPage},"← Предыдущая",8,Xe),(0,o.Lk)("span",null,"Страница "+(0,l.v_)(n.currentPage)+" из "+(0,l.v_)(n.totalPages),1),(0,o.Lk)("button",{onClick:t[1]||(t[1]=(...e)=>r.nextPage&&r.nextPage(...e)),disabled:n.currentPage===n.totalPages},"Следующая →",8,Ie)])):(0,o.Q3)("",!0)])])])}var Ne={data(){return{bookings:[],currentPage:1,totalPages:0,pageSize:10,backendUrl:"http://localhost:3000"}},async created(){await this.fetchBookings()},methods:{async fetchBookings(){try{const e=await fetch(`${this.backendUrl}/api/bookings?page=${this.currentPage}`,{method:"GET",credentials:"include"});if(!e.ok){if(401===e.status)return void this.$router.push("/login");throw new Error(`HTTP error! Status: ${e.status}`)}const t=await e.json();this.bookings=t.bookings||[],this.totalPages=t.totalPages||0,this.currentPage=t.currentPage||1}catch(e){console.error("Ошибка при получении бронирований:",e),this.bookings=[],this.totalPages=0}},async prevPage(){this.currentPage>1&&(this.currentPage--,await this.fetchBookings())},async nextPage(){this.currentPage<this.totalPages&&(this.currentPage++,await this.fetchBookings())},getStatusClass(e){return e?"available":"unavailable"}}};const Te=(0,L.A)(Ne,[["render",$e],["__scopeId","data-v-d48f8cda"]]);var je=Te;const Oe={class:"container"},We={class:"form-group"},Fe={class:"form-group"},Se={key:0,class:"error"};function Qe(e,t,a,n,r,i){return(0,o.uX)(),(0,o.CE)("div",Oe,[t[6]||(t[6]=(0,o.Lk)("h2",null,"Вход",-1)),(0,o.Lk)("form",{onSubmit:t[2]||(t[2]=(0,s.D$)(((...e)=>i.login&&i.login(...e)),["prevent"]))},[(0,o.Lk)("div",We,[t[3]||(t[3]=(0,o.Lk)("label",{for:"email"},"Email:",-1)),(0,o.bo)((0,o.Lk)("input",{type:"email",id:"email","onUpdate:modelValue":t[0]||(t[0]=e=>r.email=e),required:"",class:"form-input"},null,512),[[s.Jo,r.email]])]),(0,o.Lk)("div",Fe,[t[4]||(t[4]=(0,o.Lk)("label",{for:"password"},"Пароль:",-1)),(0,o.bo)((0,o.Lk)("input",{type:"password",id:"password","onUpdate:modelValue":t[1]||(t[1]=e=>r.password=e),required:"",class:"form-input"},null,512),[[s.Jo,r.password]])]),t[5]||(t[5]=(0,o.Lk)("button",{type:"submit",class:"btn btn-primary"},"Войти",-1)),r.error?((0,o.uX)(),(0,o.CE)("p",Se,(0,l.v_)(r.error),1)):(0,o.Q3)("",!0)],32)])}var De={data(){return{email:"",password:"",error:""}},methods:{async login(){try{console.log("Logging in with data:",{email:this.email,password:this.password});const e=await fetch("http://localhost:3000/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({email:this.email,password:this.password})}),t=await e.json();console.log("Login response:",t),e.ok?(localStorage.setItem("token",t.token),this.$router.push("/"),setTimeout((()=>{location.reload()}),500)):this.error=t.message||"Ошибка входа"}catch(e){console.error("Error during login:",e),this.error="Ошибка сервера"}}}};const Me=(0,L.A)(De,[["render",Qe],["__scopeId","data-v-0c964ea8"]]);var Re=Me;const Ue={class:"container"},qe={class:"form-group"},Be={class:"form-group"},Ge={class:"form-group"},He={key:0,class:"error"};function Je(e,t,a,n,r,i){return(0,o.uX)(),(0,o.CE)("div",Ue,[t[8]||(t[8]=(0,o.Lk)("h2",null,"Регистрация",-1)),(0,o.Lk)("form",{onSubmit:t[3]||(t[3]=(0,s.D$)(((...e)=>i.register&&i.register(...e)),["prevent"]))},[(0,o.Lk)("div",qe,[t[4]||(t[4]=(0,o.Lk)("label",{for:"username"},"Имя пользователя:",-1)),(0,o.bo)((0,o.Lk)("input",{type:"text",id:"username","onUpdate:modelValue":t[0]||(t[0]=e=>r.username=e),required:"",class:"form-input"},null,512),[[s.Jo,r.username]])]),(0,o.Lk)("div",Be,[t[5]||(t[5]=(0,o.Lk)("label",{for:"email"},"Email:",-1)),(0,o.bo)((0,o.Lk)("input",{type:"email",id:"email","onUpdate:modelValue":t[1]||(t[1]=e=>r.email=e),required:"",class:"form-input"},null,512),[[s.Jo,r.email]])]),(0,o.Lk)("div",Ge,[t[6]||(t[6]=(0,o.Lk)("label",{for:"password"},"Пароль:",-1)),(0,o.bo)((0,o.Lk)("input",{type:"password",id:"password","onUpdate:modelValue":t[2]||(t[2]=e=>r.password=e),required:"",class:"form-input"},null,512),[[s.Jo,r.password]])]),t[7]||(t[7]=(0,o.Lk)("button",{type:"submit",class:"btn btn-primary"},"Зарегистрироваться",-1)),r.error?((0,o.uX)(),(0,o.CE)("p",He,(0,l.v_)(r.error),1)):(0,o.Q3)("",!0)],32)])}var Ve={data(){return{username:"",email:"",password:"",error:""}},methods:{async register(){try{console.log("Registering user with data:",{username:this.username,email:this.email,password:this.password});const e=await fetch("http://localhost:3000/auth/register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:this.username,email:this.email,password:this.password})}),t=await e.json();console.log("Registration response:",t),e.ok?this.$router.push("/login"):this.error=t.message||"Ошибка регистрации"}catch(e){console.error("Error during registration:",e),this.error="Ошибка сервера"}}}};const Ke=(0,L.A)(Ve,[["render",Je],["__scopeId","data-v-4c6411a6"]]);var ze=Ke;const Ze={class:"app-container"},Ye={key:0,class:"loading-message"},et={key:1,class:"error-message"},tt={key:2,class:"room-details"},at={class:"product-image-container"},st=["src"],ot={key:1},lt={class:"room-info"},nt={class:"action-buttons"},rt={key:3,class:"error-message"};function it(e,t,a,s,n,r){return(0,o.uX)(),(0,o.CE)("div",Ze,[t[9]||(t[9]=(0,o.Lk)("link",{href:"https://fonts.googleapis.com/css2?family=Roboto+Mono:wght@400;600;700&display=swap",rel:"stylesheet"},null,-1)),t[10]||(t[10]=(0,o.Lk)("h1",{class:"page-title"},"Просмотр номера",-1)),n.loading?((0,o.uX)(),(0,o.CE)("div",Ye,"Загрузка данных...")):n.errorMessage?((0,o.uX)(),(0,o.CE)("div",et,(0,l.v_)(n.errorMessage),1)):n.room?((0,o.uX)(),(0,o.CE)("div",tt,[(0,o.Lk)("div",at,[n.room.photoPath?((0,o.uX)(),(0,o.CE)("img",{key:0,src:`${n.backendUrl}${n.room.photoPath}`,alt:"Room Photo",class:"product-image"},null,8,st)):((0,o.uX)(),(0,o.CE)("span",ot,"Нет изображения"))]),(0,o.Lk)("div",lt,[(0,o.Lk)("p",null,[t[1]||(t[1]=(0,o.Lk)("strong",null,"ID:",-1)),(0,o.eW)(" "+(0,l.v_)(n.room.id||"N/A"),1)]),(0,o.Lk)("p",null,[t[2]||(t[2]=(0,o.Lk)("strong",null,"Номер комнаты:",-1)),(0,o.eW)(" "+(0,l.v_)(n.room.roomNumber||"N/A"),1)]),(0,o.Lk)("p",null,[t[3]||(t[3]=(0,o.Lk)("strong",null,"Тип номера:",-1)),(0,o.eW)(" "+(0,l.v_)(n.room.roomType||"N/A"),1)]),(0,o.Lk)("p",null,[t[4]||(t[4]=(0,o.Lk)("strong",null,"Вместимость:",-1)),(0,o.eW)(" "+(0,l.v_)(n.room.capacity||"N/A"),1)]),(0,o.Lk)("p",null,[t[5]||(t[5]=(0,o.Lk)("strong",null,"Цена за ночь:",-1)),(0,o.eW)(" "+(0,l.v_)(n.room.pricePerNight||"N/A"),1)]),(0,o.Lk)("p",null,[t[6]||(t[6]=(0,o.Lk)("strong",null,"Доступен:",-1)),(0,o.Lk)("span",{class:(0,l.C4)(["status",r.getStatusClass(n.room.isAvailable)])},(0,l.v_)(n.room.isAvailable?"Доступен":"Недоступен"),3)]),(0,o.Lk)("p",null,[t[7]||(t[7]=(0,o.Lk)("strong",null,"Описание:",-1)),(0,o.eW)(" "+(0,l.v_)(n.room.description||"N/A"),1)]),(0,o.Lk)("p",null,[t[8]||(t[8]=(0,o.Lk)("strong",null,"Этаж:",-1)),(0,o.eW)(" "+(0,l.v_)(n.room.floor||"N/A"),1)])]),(0,o.Lk)("div",nt,[(0,o.Lk)("button",{class:"btn-secondary",onClick:t[0]||(t[0]=t=>e.$router.push("/rooms"))},"Вернуться к списку")])])):((0,o.uX)(),(0,o.CE)("div",rt,"Не удалось загрузить данные о номере."))])}var ct={data(){return{room:null,loading:!0,errorMessage:null,backendUrl:"http://localhost:3000"}},async created(){const e=this.$route.params.id;if(!/^\d+$/.test(e))return this.errorMessage="Некорректный ID",void(this.loading=!1);await this.fetchRoom(e)},methods:{async fetchRoom(e){try{const t=await fetch(`${this.backendUrl}/api/view-room/${e}`,{method:"GET",credentials:"include"});if(!t.ok){if(401===t.status)return void this.$router.push("/login");if(404===t.status)throw new Error("Номер не найден");throw new Error(`HTTP error! Status: ${t.status}`)}const a=await t.json();this.room=a}catch(t){console.error("Ошибка при получении данных номера:",t),this.errorMessage=t.message}finally{this.loading=!1}},getStatusClass(e){return e?"available":"unavailable"}}};const dt=(0,L.A)(ct,[["render",it],["__scopeId","data-v-e3704e9e"]]);var ut=dt;const gt={class:"app-container"},ht={key:0,class:"loading-message"},kt={key:1,class:"error-message"},pt={key:2,class:"booking-details"},mt={class:"product-image-container"},vt=["src"],bt={key:1},ft={class:"booking-info"},Lt={class:"action-buttons"},yt={key:3,class:"error-message"};function wt(e,t,a,s,n,r){return(0,o.uX)(),(0,o.CE)("div",gt,[t[9]||(t[9]=(0,o.Lk)("link",{href:"https://fonts.googleapis.com/css2?family=Roboto+Mono:wght@400;600;700&display=swap",rel:"stylesheet"},null,-1)),t[10]||(t[10]=(0,o.Lk)("h1",{class:"page-title"},"Просмотр бронирования",-1)),n.loading?((0,o.uX)(),(0,o.CE)("div",ht,"Загрузка данных...")):n.errorMessage?((0,o.uX)(),(0,o.CE)("div",kt,(0,l.v_)(n.errorMessage),1)):n.booking?((0,o.uX)(),(0,o.CE)("div",pt,[(0,o.Lk)("div",mt,[n.booking.photo?((0,o.uX)(),(0,o.CE)("img",{key:0,src:`${n.backendUrl}${n.booking.photo}`,alt:"Booking Photo",class:"product-image"},null,8,vt)):((0,o.uX)(),(0,o.CE)("span",bt,"Нет изображения"))]),(0,o.Lk)("div",ft,[(0,o.Lk)("p",null,[t[1]||(t[1]=(0,o.Lk)("strong",null,"ID:",-1)),(0,o.eW)(" "+(0,l.v_)(n.booking.id||"N/A"),1)]),(0,o.Lk)("p",null,[t[2]||(t[2]=(0,o.Lk)("strong",null,"ID номера:",-1)),(0,o.eW)(" "+(0,l.v_)(n.booking.roomId||"N/A"),1)]),(0,o.Lk)("p",null,[t[3]||(t[3]=(0,o.Lk)("strong",null,"Имя гостя:",-1)),(0,o.eW)(" "+(0,l.v_)(n.booking.guestName||"N/A"),1)]),(0,o.Lk)("p",null,[t[4]||(t[4]=(0,o.Lk)("strong",null,"Дата заезда:",-1)),(0,o.eW)(" "+(0,l.v_)(n.booking.checkInDate||"N/A"),1)]),(0,o.Lk)("p",null,[t[5]||(t[5]=(0,o.Lk)("strong",null,"Дата выезда:",-1)),(0,o.eW)(" "+(0,l.v_)(n.booking.checkOutDate||"N/A"),1)]),(0,o.Lk)("p",null,[t[6]||(t[6]=(0,o.Lk)("strong",null,"Общая стоимость:",-1)),(0,o.eW)(" "+(0,l.v_)(n.booking.totalPrice||"N/A"),1)]),(0,o.Lk)("p",null,[t[7]||(t[7]=(0,o.Lk)("strong",null,"Подтверждено:",-1)),(0,o.Lk)("span",{class:(0,l.C4)(["status",r.getStatusClass(n.booking.isConfirmed)])},(0,l.v_)(n.booking.isConfirmed?"Подтверждено":"Не подтверждено"),3)]),(0,o.Lk)("p",null,[t[8]||(t[8]=(0,o.Lk)("strong",null,"Контактный телефон:",-1)),(0,o.eW)(" "+(0,l.v_)(n.booking.guestPhone||"N/A"),1)])]),(0,o.Lk)("div",Lt,[(0,o.Lk)("button",{class:"btn-secondary",onClick:t[0]||(t[0]=t=>e.$router.push("/bookings"))},"Вернуться к списку")])])):((0,o.uX)(),(0,o.CE)("div",yt,"Не удалось загрузить данные о бронировании."))])}var xt={data(){return{booking:null,loading:!0,errorMessage:null,backendUrl:"http://localhost:3000"}},async created(){const e=this.$route.params.id;if(!/^\d+$/.test(e))return this.errorMessage="Некорректный ID",void(this.loading=!1);await this.fetchBooking(e)},methods:{async fetchBooking(e){try{const t=await fetch(`${this.backendUrl}/api/view-booking/${e}`,{method:"GET",credentials:"include"});if(!t.ok){if(401===t.status)return void this.$router.push("/login");if(404===t.status)throw new Error("Бронирование не найдено");throw new Error(`HTTP error! Status: ${t.status}`)}const a=await t.json();this.booking=a}catch(t){console.error("Ошибка при получении данных бронирования:",t),this.errorMessage=t.message}finally{this.loading=!1}},getStatusClass(e){return e?"available":"unavailable"}}};const Ct=(0,L.A)(xt,[["render",wt],["__scopeId","data-v-846a04a0"]]);var Et=Ct;const _t=[{path:"/",component:F},{path:"/about",component:H},{path:"/contact",component:ne},{path:"/rooms",component:Le},{path:"/bookings",component:je},{path:"/login",component:Re},{path:"/register",component:ze},{path:"/view-rooms/:id",component:ut},{path:"/view-bookings/:id",component:Et}],Pt=(0,x.aE)({history:(0,x.LA)(),routes:_t});var At=Pt;const Xt=(0,s.Ef)(w);Xt.use(At),Xt.mount("#app")}},t={};function a(s){var o=t[s];if(void 0!==o)return o.exports;var l=t[s]={exports:{}};return e[s].call(l.exports,l,l.exports,a),l.exports}a.m=e,function(){var e=[];a.O=function(t,s,o,l){if(!s){var n=1/0;for(d=0;d<e.length;d++){s=e[d][0],o=e[d][1],l=e[d][2];for(var r=!0,i=0;i<s.length;i++)(!1&l||n>=l)&&Object.keys(a.O).every((function(e){return a.O[e](s[i])}))?s.splice(i--,1):(r=!1,l<n&&(n=l));if(r){e.splice(d--,1);var c=o();void 0!==c&&(t=c)}}return t}l=l||0;for(var d=e.length;d>0&&e[d-1][2]>l;d--)e[d]=e[d-1];e[d]=[s,o,l]}}(),function(){a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,{a:t}),t}}(),function(){a.d=function(e,t){for(var s in t)a.o(t,s)&&!a.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:t[s]})}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={524:0};a.O.j=function(t){return 0===e[t]};var t=function(t,s){var o,l,n=s[0],r=s[1],i=s[2],c=0;if(n.some((function(t){return 0!==e[t]}))){for(o in r)a.o(r,o)&&(a.m[o]=r[o]);if(i)var d=i(a)}for(t&&t(s);c<n.length;c++)l=n[c],a.o(e,l)&&e[l]&&e[l][0](),e[l]=0;return a.O(d)},s=self["webpackChunkvueapp"]=self["webpackChunkvueapp"]||[];s.forEach(t.bind(null,0)),s.push=t.bind(null,s.push.bind(s))}();var s=a.O(void 0,[504],(function(){return a(4474)}));s=a.O(s)})();
//# sourceMappingURL=app.f4a0f9ad.js.map